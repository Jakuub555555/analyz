<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8">
  <title>Analýza Zápasů</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 2rem;
      background-color: #f8f9fa;
    }
    textarea {
      width: 100%;
      height: 250px;
      font-family: monospace;
      padding: 1rem;
      border: 1px solid #ccc;
      border-radius: 10px;
      margin-bottom: 1rem;
    }
    button {
      padding: 0.75rem 1.5rem;
      font-size: 1rem;
      border: none;
      background-color: #007bff;
      color: white;
      border-radius: 5px;
      cursor: pointer;
    }
    button:hover {
      background-color: #0056b3;
    }
    pre {
      background: #fff;
      padding: 1rem;
      border: 1px solid #ccc;
      border-radius: 10px;
      white-space: pre-wrap;
    }
  </style>
</head>
<body>
  <h1>Analýza výkonnosti hráče/týmu</h1>
  <textarea id="input" placeholder="Vložte data ve specifikovaném formátu..."></textarea>
  <button onclick="analyze()">Analyzovat</button>
  <h2>Výstup</h2>
  <pre id="output"></pre>

  <script>
    function analyze() {
      const text = document.getElementById('input').value.trim();
      const output = document.getElementById('output');

      const lines = text.split('\n').filter(line => line.trim() !== '');
      const analyzedLine = lines[0];
      const analyzedName = analyzedLine.split(':')[1].trim();

      const matchLines = lines.slice(2);
      let wins = 0, losses = 0, draws = 0;
      let scored = 0, conceded = 0;

      const matches = [];

      for (const line of matchLines) {
        const [match, rest] = line.split(':');
        const [score, result] = rest.trim().split(' - ');
        const [s1, s2] = score.split('-').map(Number);

        let team1 = match.split(' vs ')[0].trim();
        let team2 = match.split(' vs ')[1].trim();

        if (result === 'Výhra') wins++;
        else if (result === 'Prohra') losses++;
        else draws++;

        if (team1 === analyzedName) {
          scored += s1;
          conceded += s2;
        } else {
          scored += s2;
          conceded += s1;
        }

        matches.push(`${team1} vs ${team2}: ${s1}-${s2} - ${result}`);
      }

      const total = matchLines.length;
      const avgScored = (scored / total).toFixed(2);
      const avgConceded = (conceded / total).toFixed(2);

      const resultText = `Analyzovaný tým/hráč: ${analyzedName}

Celkem zápasů: ${total}
Výhry: ${wins}
Prohry: ${losses}
Remízy: ${draws}
Celkový počet vstřelených gólů: ${scored}
Celkový počet inkasovaných gólů: ${conceded}
Průměrné vstřelené góly za zápas: ${avgScored}
Průměrné inkasované góly za zápas: ${avgConceded}

Seznam zápasů:
${matches.join('\n')}`;

      output.textContent = resultText;
    }
  </script>
</body>
</html>
